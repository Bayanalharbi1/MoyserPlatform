{% extends "main_app/base.html" %}
{% load static %}
{% block title %}Home Page{% endblock %}
{% block content %}
<!-- Title -->
<div class="flex items-center justify-center">
  <div class="max-w-2xl text-center">
    <h1 class="block font-semibold text-gray-800 text-3xl md:text-5xl lg:text-6xl">
      Welcome to Moyser, your premier platform for accessible support.
    </h1>
    <p class="mt-4 text-lg text-gray-600">
      We connect individuals with disabilities to qualified companions, ensuring a seamless experience in public spaces.
    </p>
  </div>
</div>

<div class="mt-10 p-8 rounded-full bg-sky-700 shadow-xl shadow-sky-300 border border-sky-900">
  <h2 class="text-2xl font-semibold text-white text-center">Find Your Companion</h2>
  <form method="get" action="{% url 'booking_app:companion_list' %}" class="mt-5 flex flex-col items-center"> 
<div class="flex flex-row items-center gap-12">
    <div class="flex flex-row items-center gap-2 ">
      <label for="city" class="text-white">City:</label>
      <select id="city" name="city" class="mt-1 rounded-md p-2">
        <option value="">Any City</option>  
        {% for value, key in cities %}
        <option value="{{ value }}" {% if search_city == value %}selected{% endif %}>{{ key }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="flex flex-row items-center  gap-2 ">
      <label for="gender" class="text-white">Gender:</label>
      <select id="gender" name="gender" class="mt-1 rounded-md p-2">
        <option value="">Select your gender</option>  
        {% for value, label in genders %}
        <option value="{{ value }}" {% if search_gender == value %}selected{% endif %}>{{ label }}</option>
        {% endfor %}
      </select>
    </div>
    </div>
    <button type="submit" class="mt-4 bg-amber-400 text-white rounded-full py-2 px-4 hover:bg-sky-900 transition duration-200">
      Find Companions
    </button>
  </form>
</div>

<div class="bg-white w-full flex justify-center items-center flex-col gap-y-6 mt-10 rounded-lg border-2 border-sky-900 ">
  <h1 class="text-4xl  font-bold mt-10 text-sky-900 ">Why choose Moyser ?  </h1>
  <!-- <p class="text-white text-lg py-8 px-32 text-justify text-start mb-12 ">
    Moyser platform is committed to providing service providers for people with special needs who find it difficult to move around in public and government places. The platform is shared by a group of experienced Saudi youth qualified with certificates in sign language and dealing with the blind, in addition to the financial return for the transportation services provided by the platform to companions. Moyser platform seeks to enhance comfort, safety, community participation and integration of people with special needs into society in support of the principle of inclusiveness and in line with Vision 2030 with ease and simplicity.
  </p> -->

  <div class="flex justify-center items-center mb-20 ml-8 mr-8 ">
      <div class="grid grid-cols-4 gap-4 ">
          <div class="flex flex-col items-center bg-sky-700 border-2 border-sky-900 rounded-lg p-4 shadow-xl shadow-sky-300">
              <div class="flex justify-center items-center bg-white rounded-full w-20 h-20 mb-4">
                  <img src="{%static 'images/clock.png'%}" alt="" class="rounded-full w-12 h-12" />
              </div>
              <h3 class="font-bold text-lg mb-8 text-center text-white">Availability</h3>
              <p class="text-white text-sm text-center">Companion can update their availability in real time, allowing users to see when they are free to book. This ensures that users can quickly find and secure the services they need without delays.</p>
          </div>

          <div class="flex flex-col items-center bg-sky-700 border-2 border-sky-900 rounded-lg p-4 shadow-xl shadow-sky-300">
              <div class="flex justify-center items-center bg-white rounded-full w-20 h-20 mb-4">
                  <img src="{%static 'images/appointment.png'%}" alt="" class="rounded-full w-12 h-12" />
              </div>
              <h3 class="font-bold text-lg mb-8 text-center text-white">Booking System </h3>
              <p class="text-white text-sm  text-center">A seamless booking system for appointments helps people with special needs search for companions based on specific criteria and skills. This feature enhances user satisfaction by simplifying access to the service.</p>
          </div>

          <div class="flex flex-col items-center bg-sky-700 border-2 border-sky-900 rounded-lg p-4 shadow-xl shadow-sky-300">
              <div class="flex justify-center items-center bg-white rounded-full w-20 h-20 mb-4">
                  <img src="{%static 'images/interface.png'%}" alt="" class="rounded-full w-14 h-12" />
              </div>
              <h3 class="font-bold text-lg mb-8 text-center text-white">Dashboard System</h3>
              <p class="text-white text-sm  text-center">The control panel provides participants with the ability to manage profiles and reservations, beneficiaries with easy access to reservations and participant searches, and administrators with tools for supervision.</p>
          </div>

          <div class="flex flex-col items-center bg-sky-700 border-2 border-sky-900 rounded-lg p-4 shadow-xl shadow-sky-300">
              <div class="flex justify-center items-center bg-white rounded-full w-20 h-20 mb-4">
                  <img src="{%static 'images/dependable.png'%}" alt="" class="rounded-full w-16 h-16" />
              </div>
              <h3 class="font-bold text-lg mb-8 text-center text-white">Safety and Reliability</h3>
              <p class="text-white text-sm  text-center">Ensuring user safety is a top priority, with features such as verified profiles, secure contact and payment methods. These measures help build trust among users, ensuring a safe environment.</p>
          </div>

      </div>
  </div>
</div>

<link href="https://cdn.jsdelivr.net/npm/keen-slider@6.8.6/keen-slider.min.css" rel="stylesheet" />


<section class="bg-white mt-10  ">
  <div class="mx-auto max-w-screen-xl px-4 py-12 sm:px-6 lg:px-8 lg:py-16">
    <h2 class="text-center text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl">
      Read trusted reviews from our customers
    </h2>

    <div class="mt-8">
      <div id="keen-slider" class="keen-slider">
        {% for feedback in feedbacks %}
        <div class="keen-slider__slide opacity-40 transition-opacity duration-500">
          <blockquote class="rounded-lg bg-sky-50  border border-sky-600  shadow-sm sm:p-8">
            <div class="flex items-center gap-4">
              <img
                alt=""
                src="{% static 'images/default.jpeg' %}"
                class="size-14 rounded-full object-cover"
              />
              <strong>{{feedback.disability_user.user.username}}</strong>
              <div>
                <p class="mt-4 text-gray-700">
                  {{feedback.comment}}
                </p>
                
                <p class="mt-0.5 text-lg font-medium text-gray-900">{{feedback.companion.user.username}}</p>
              </div>
            </div>
            
            
            <div class="flex justify-center gap-0.5 text-green-500">
              
      <svg
      xmlns="http://www.w3.org/2000/svg"
      class="size-5"
      viewBox="0 0 20 20"
      fill='currentColor'
      
    >
      <path
        d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
      />
    </svg><p>{{feedback.rating}}/5</p>
            </div>
          </blockquote>
        </div>
        {% endfor %}
      </div>

      <div class="mt-6 flex items-center justify-center gap-4">
        <button
          aria-label="Previous slide"
          id="keen-slider-previous"
          class="text-gray-600 transition-colors hover:text-gray-900"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-5"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
          </svg>
        </button>

        <p class="w-16 text-center text-sm text-gray-700">
          <span id="keen-slider-active"></span>
          /
          <span id="keen-slider-count"></span>
        </p>

        <button
          aria-label="Next slide"
          id="keen-slider-next"
          class="text-gray-600 transition-colors hover:text-gray-900"
        >
          <svg
            class="size-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9 5l7 7-7 7"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>

<script type="module">
  import KeenSlider from 'https://cdn.jsdelivr.net/npm/keen-slider@6.8.6/+esm'

  const keenSliderActive = document.getElementById('keen-slider-active')
  const keenSliderCount = document.getElementById('keen-slider-count')

  const keenSlider = new KeenSlider(
    '#keen-slider',
    {
      loop: true,
      defaultAnimation: {
        duration: 750,
      },
      slides: {
        origin: 'center',
        perView: 1,
        spacing: 16,
      },
      breakpoints: {
        '(min-width: 640px)': {
          slides: {
            origin: 'center',
            perView: 1.5,
            spacing: 16,
          },
        },
        '(min-width: 768px)': {
          slides: {
            origin: 'center',
            perView: 1.75,
            spacing: 16,
          },
        },
        '(min-width: 1024px)': {
          slides: {
            origin: 'center',
            perView: 3,
            spacing: 16,
          },
        },
      },
      created(slider) {
        slider.slides[slider.track.details.rel].classList.remove('opacity-40')

        keenSliderActive.innerText = slider.track.details.rel + 1
        keenSliderCount.innerText = slider.slides.length
      },
      slideChanged(slider) {
        slider.slides.forEach((slide) => slide.classList.add('opacity-40'))

        slider.slides[slider.track.details.rel].classList.remove('opacity-40')

        keenSliderActive.innerText = slider.track.details.rel + 1
      },
    },
    []
  )

  const keenSliderPrevious = document.getElementById('keen-slider-previous')
  const keenSliderNext = document.getElementById('keen-slider-next')

  keenSliderPrevious.addEventListener('click', () => keenSlider.prev())
  keenSliderNext.addEventListener('click', () => keenSlider.next())
</script>


    <!-- <div>
      <label for="city">City:</label>
      <select id="city" name="city">
          <option value="">Any City</option>
          <option value="Riyadh" {% if search_city == 'Riyadh' %}selected{% endif %}>Riyadh</option>
          <option value="Al-kharj" {% if search_city == 'Al-kharj' %}selected{% endif %}>Al-kharj</option>
          <option value="Al-majmaah" {% if search_city == 'Al-majmaah' %}selected{% endif %}>Al-majmaah</option>
          <option value="Afif" {% if search_city == 'Afif' %}selected{% endif %}>Afif</option>
          <option value="Jeddah" {% if search_city == 'Jeddah' %}selected{% endif %}>Jeddah</option>
          <option value="Makkah" {% if search_city == 'Makkah' %}selected{% endif %}>Makkah</option>
          <option value="Al-Taif" {% if search_city == 'Al-Taif' %}selected{% endif %}>Al-Taif</option>
          <option value="Rabigh" {% if search_city == 'Rabigh' %}selected{% endif %}>Rabigh</option>
          <option value="Al-Madinah" {% if search_city == 'Al-Madinah' %}selected{% endif %}>Al-Madinah</option>
          <option value="Dammam" {% if search_city == 'Dammam' %}selected{% endif %}>Dammam</option>
          <option value="Al-Ahsa" {% if search_city == 'Al-Ahsa' %}selected{% endif %}>Al-Ahsa</option>
          <option value="Jizan" {% if search_city == 'Jizan' %}selected{% endif %}>Jizan</option>
          <option value="Najran" {% if search_city == 'Najran' %}selected{% endif %}>Najran</option>
          <option value="Al-jawf" {% if search_city == 'Al-jawf' %}selected{% endif %}>Al-jawf</option>
          <option value="Abha" {% if search_city == 'Abha' %}selected{% endif %}>Abha</option>
          <option value="Bisha" {% if search_city == 'Bisha' %}selected{% endif %}>Bisha</option>
          <option value="Tabuk" {% if search_city == 'Tabuk' %}selected{% endif %}>Tabuk</option>
          <option value="Hail" {% if search_city == 'Hail' %}selected{% endif %}>Hail</option>
          <option value="Qassim" {% if search_city == 'Qassim' %}selected{% endif %}>Qassim</option>
      </select>
  </div> -->


  <!-- <div>
      <label for="gender">Gender:</label>
      <select id="gender" name="gender">
          <option value="">select your gendr </option>
          <option value="M" {% if search_gender == 'M' %}selected{% endif %}>Male</option>
          <option value="F" {% if search_gender == 'F' %}selected{% endif %}>Female</option>
      </select>
  </div> -->

    <!-- <div>
    <label for="disability_type">Disability Type:</label>
    <select id="disability_type" name="disability_type">
        <option value="">select your gendr </option>
        <option value="VI" {% if search_disability_type == 'VI' %}selected{% endif %}>Visually Impaired</option>
        <option value="HI" {% if search_disability_type == 'HI' %}selected{% endif %}>Hearing Impaired</option>
        <option value="MD" {% if search_disability_type == 'MD' %}selected{% endif %}>Mobility Disability</option>
        <option value="OD" {% if search_disability_type == 'OD' %}selected{% endif %}>Other Disability</option>
    </select>
</div> -->
{% endblock %}